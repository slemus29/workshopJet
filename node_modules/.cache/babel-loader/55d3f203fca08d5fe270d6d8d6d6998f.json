{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport client from '../apollo/client';\n\nvar useQuery = function useQuery(query) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  var fetchData = function fetchData() {\n    client.query(_objectSpread({\n      query: query\n    }, options)).then(function (result) {\n      if (result.errors) {\n        setError(result.errors);\n      }\n\n      setData(result.data);\n    }).catch(function (e) {\n      setError(e);\n    }).finally(function () {\n      setLoading(false);\n    });\n  };\n\n  fetchData();\n  return {\n    data: data,\n    loading: loading,\n    error: error,\n    fetchData: fetchData\n  };\n};\n\nexport default useQuery;","map":{"version":3,"sources":["/Users/santiagolemus/Documents/dev/workshop-live/hooks/useQuery.js"],"names":["useState","client","useQuery","query","options","loading","setLoading","error","setError","data","setData","fetchData","then","result","errors","catch","e","finally"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAyB;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AAAA,kBACVJ,QAAQ,CAAC,IAAD,CADE;AAAA;AAAA,MACjCK,OADiC;AAAA,MACxBC,UADwB;;AAAA,mBAEdN,QAAQ,CAAC,KAAD,CAFM;AAAA;AAAA,MAEjCO,KAFiC;AAAA,MAE1BC,QAF0B;;AAAA,mBAGhBR,QAAQ,EAHQ;AAAA;AAAA,MAGjCS,IAHiC;AAAA,MAG3BC,OAH2B;;AAKxC,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBV,IAAAA,MAAM,CAACE,KAAP;AACEA,MAAAA,KAAK,EAALA;AADF,OAEKC,OAFL,GAGGQ,IAHH,CAGQ,UAACC,MAAD,EAAY;AAClB,UAAIA,MAAM,CAACC,MAAX,EAAmB;AACjBN,QAAAA,QAAQ,CAACK,MAAM,CAACC,MAAR,CAAR;AACD;;AAEDJ,MAAAA,OAAO,CAACG,MAAM,CAACJ,IAAR,CAAP;AACD,KATD,EASGM,KATH,CASS,UAACC,CAAD,EAAO;AACdR,MAAAA,QAAQ,CAACQ,CAAD,CAAR;AACD,KAXD,EAWGC,OAXH,CAWW,YAAM;AACfX,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAbD;AAcD,GAfD;;AAiBAK,EAAAA,SAAS;AAET,SAAO;AACLF,IAAAA,IAAI,EAAJA,IADK;AAELJ,IAAAA,OAAO,EAAPA,OAFK;AAGLE,IAAAA,KAAK,EAALA,KAHK;AAILI,IAAAA,SAAS,EAATA;AAJK,GAAP;AAMD,CA9BD;;AAgCA,eAAeT,QAAf","sourcesContent":["import { useState } from 'react';\nimport client from '../apollo/client';\n\nconst useQuery = (query, options = {}) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState();\n\n  const fetchData = () => {\n    client.query({\n      query,\n      ...options,\n    }).then((result) => {\n      if (result.errors) {\n        setError(result.errors);\n      }\n\n      setData(result.data);\n    }).catch((e) => {\n      setError(e);\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n\n  fetchData();\n\n  return {\n    data,\n    loading,\n    error,\n    fetchData,\n  };\n};\n\nexport default useQuery;\n"]},"metadata":{},"sourceType":"module"}